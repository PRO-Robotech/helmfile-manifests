sgroup:
  grpcAddress: sgroups-server.incloud-sgroups.svc:9006
  log_level: debug

appSpec:
  applications:
    sgroupsresources:
      enabled: true
      type: Deployment
      name: sgroupsresources
      replicas: 1

      tolerations:
        - key: node-role.kubernetes.io/data-plane
          effect: NoSchedule
        - key: node-role.kubernetes.io/b-cloud-infra
          effect: NoSchedule

      extraPriorityClassName: system-cluster-critical

      volumes:
        controllerManagerConfig:
          volume:
            mode: configMap
            name: sgroupsresources-config

      containers:
        manager:
          name: manager
          enabled: true
          image:
            repository: "test"
            tag: "test"

          extraCommand:
            - /manager

          extraArgs:
            health-probe-bind-address: ":8081"
            leader-elect: true
            metrics-bind-address: 127.0.0.1:8080
            config: /config.yaml

          extraPorts:
            metrics:
              containerPort: 8080
              protocol: TCP

          extraResources:
            limits:
              cpu: 500m
              memory: 512Mi
            requests:
              cpu: 250m
              memory: 256Mi

          extraLivenessProbe:
            httpGet:
              path: /healthz
              port: 8081
            initialDelaySeconds: 15
            periodSeconds: 20

          extraReadinessProbe:
            httpGet:
              path: /readyz
              port: 8081
            initialDelaySeconds: 5
            periodSeconds: 10

          extraVolumeMounts:
            controllerManagerConfig:
              volumeMount:
                path: /config.yaml
                spec:
                  subPath: config.yaml
