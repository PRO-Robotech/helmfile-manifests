appSpec:
  applications:
    agent:
      enabled: true
      volumes:
        configurationClientFile:
          volume:
            mode: configMap
            name: client-config
            payload:
              format: json
              content:
                extapi:
                  svc:
                    sgroups:
                      use-json-codec: false
                      api-path-prefix: apis/proxy.sgroups.io/v1alpha1/
                      address: sgroups-istio-apisvcgateway:443
                      authn:
                        type: tls
                        tls:
                          key-file: null
                          cert-file: null
                          server:
                            verify: true
                            ca-files:
                              - "/opt/h-bf/sgroups/tls/ca.crt"
                              - "/var/run/secrets/kubernetes.io/serviceaccount/ca.crt"
                base-rules:
                  networks:
                    - 10.244.0.0/16
                    - 29.64.0.0/16
                    - 8.8.8.8/32
      containers:
        agent:
          # image:
          #   repository: sgroups/sgroups.to-nft
          #   tag: ""
          extraResources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 100m
              memory: 128Mi
          extraEnv:
            GRPC_GO_LOG_SEVERITY_LEVEL: info
            GRPC_GO_LOG_VERBOSITY_LEVEL: 2
